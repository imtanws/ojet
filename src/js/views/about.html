<!--
 Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 The Universal Permissive License (UPL), Version 1.0
 -->
<!--
 Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 The Universal Permissive License (UPL), Version 1.0
 -->
<div style="background-color: #f5f5f9">
    <div class="oj-applayout-content oj-complete">
        <div role="main" class="oj-hybrid-applayout-content">
        <div class="oj-flex oj-sm-flex-direction-column oj-hybrid-applayout-page">
        <div id="header">
          <!-- ko if: islogin == 1 -->
          <div class="demo-about-top-bg">
              <div class="demo-circle-logo-container" style="margin:auto;">
              <div class="demo-circle-logo"></div>
              </div>

            <h2 class="demo-profile-name" 
              data-bind='text: username'></h2>
          </div>
          <!-- /ko -->

          <!-- ko if: islogin == 2  -->
          <div class="demo-about-top-bg">
              <div class="demo-circle-logo-container" style="margin:auto;">
              <div class="demo-circle-logo"></div>
              </div>

            <oj-button class='demo-social-button' id='profile-action-btn' data-bind="click: function() {
              document.querySelector('#modalDialog1').open();
            }" display='icons' chroming='half'>
            登陆/注册
          </oj-button>  
          </div>
          <!-- /ko -->
        </div>
 

        <div id="listviewContainer" class="demo-container">

            <div id="page0" class="demo-page">
                <oj-list-view 
                    id="listview" 
                    aria-label="drill down list" 
                    data="[[dataProvider]]"
                    scroll-policy-options.scroller="[[scrollElem]]"
                    item.renderer="[[oj.KnockoutTemplateUtils.getRenderer('note_template', true)]]" on-current-item-changed="[[gotoContent]]">
                </oj-list-view>
            </div>
      
            <div id="page1" class="demo-page" style="display: none">
                <div class="common-header">
                  <oj-button
                    class="go-back"
                    id="buttonIcon2" 
                    on-click="[[gotoList]]">
                    <span slot="startIcon"
                    style="color: white" 
                        class="oj-fwk-icon-caret-start oj-fwk-icon"
                    ></span>
                  </oj-button>
                  <span data-bind="text: headerText()"></span>
                </div>
                <div style="background-color: #f5f5f9">
                  <div data-bind="ojModule: formModule"></div>
                </div>
            </div>

            <div id="page2" class="demo-page" style="display: none">
                <div class="common-header">
                  <oj-button
                    class="go-back"
                    id="buttonIcon2" 
                    on-click="[[gotoList]]">
                    <span slot="startIcon"
                    style="color: white" 
                        class="oj-fwk-icon-caret-start oj-fwk-icon"
                    ></span>
                  </oj-button>
                  <span data-bind="text: headerText()"></span>
                </div>
                <div style="background-color: #f5f5f9">
                  <div data-bind="ojModule: uploadModule"></div>
                </div>
            </div>

            <div id="page3" class="demo-page" style="display: none">
                <div class="common-header">
                  <oj-button
                    class="go-back"
                    id="buttonIcon2" 
                    on-click="[[gotoList]]">
                    <span slot="startIcon"
                    style="color: white" 
                        class="oj-fwk-icon-caret-start oj-fwk-icon"
                    ></span>
                  </oj-button>
                  <span data-bind="text: headerText()"></span>
                </div>
                <div style="background-color: #f5f5f9">
                  <div data-bind="ojModule: repaymentModule"></div>
                </div>
            </div>
        </div>
        <div style="width: 100%;height: 60px"></div>
        <script type="text/html" id="note_template">
            <li data-bind="attr: {id: 'item'+id}" style="line-height: 40px">
                <div class="oj-flex-bar" style="align-items: center;padding: 0 10px">
                    <img data-bind="attr: {src: 'img/listView/'+ desc +'.png', alt: desc, width: '16px', height: '16px'}" style="margin-right: 10px"></img>
                    <div class="oj-flex-bar-middle oj-flex-bar">
                        <div class="oj-flex-bar-middle" data-bind="text: name">
                        </div>
                    </div>
                    <div class="oj-flex-bar-end oj-sm-align-items-center">
                        <div role="presentation" class="oj-fwk-icon-back oj-fwk-icon"></div>
                    </div>         
                </div>
            </li>
        </script>

        
      </div>
    </div>
      </div>
    </div>
  </div>
  <div id="dialogWrapper">
    <oj-dialog style="display:none" id="modalDialog1" title="登陆">
      <div slot="body">
         <div class="mobile-form-block" >
          <div class="mobile-form-border">
              <label class="mobile-form-label" for="text-input">用户名</label>
              <oj-input-text 
                  class="mobile-form-input" 
                  id="inputcontrol2"
                  value="{{info.name}}" 
                  type="text">
              </oj-input-text>
          </div>
          <div class="mobile-form-border">
              <label class="mobile-form-label" for="text-input">密码</label>
              <oj-input-text 
                  class="mobile-form-input" 
                  id="inputcontrol2"
                  value="{{info.pwd}}" 
                  type="text">
              </oj-input-text>
          </div>
      </div>
      </div>
      <div slot="footer">
        <oj-button id="okButton" data-bind="click: submit">登陆
        </oj-button>
      </div>
    </oj-dialog>
  </div>
</div>
